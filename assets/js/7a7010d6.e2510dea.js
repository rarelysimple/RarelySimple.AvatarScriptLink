"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[3651],{28453(e,t,n){n.d(t,{R:()=>a,x:()=>s});var i=n(96540);const r={},o=i.createContext(r);function a(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:t},e.children)}},61498(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/migration-to-v2-ab78efc5339045a5c6597d2637854e9b.png"},61746(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"dotnet/getting-started/migration","title":"Migrating to AvatarScriptLink.NET v2","description":"The following content is based on possible changes in AvatarScriptLink.NET version and is subject to change.","source":"@site/docs/dotnet/getting-started/migration.md","sourceDirName":"dotnet/getting-started","slug":"/dotnet/getting-started/migration","permalink":"/docs/next/dotnet/getting-started/migration","draft":false,"unlisted":false,"editUrl":"https://github.com/rarelysimple/RarelySimple.AvatarScriptLink/tree/main/docs/docs/dotnet/getting-started/migration.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"title":"Migrating to AvatarScriptLink.NET v2","image":"./migration-to-v2.png","sidebar_position":10,"sidebar_label":"Migration"},"sidebar":"dotnetSidebar","previous":{"title":"Compatibility","permalink":"/docs/next/dotnet/getting-started/compatibility"},"next":{"title":"Data Model","permalink":"/docs/next/dotnet/data-model/"}}');var r=n(74848),o=n(28453);const a={title:"Migrating to AvatarScriptLink.NET v2",image:"./migration-to-v2.png",sidebar_position:10,sidebar_label:"Migration"},s="Migrating to v2",c={image:n(61498).A},l=[{value:"From v1",id:"from-v1",level:2},{value:"NuGet package has changed",id:"nuget-package-has-changed",level:3},{value:"Helper methods are no longer available on the native objects",id:"helper-methods-are-no-longer-available-on-the-native-objects",level:3},{value:"From NTST.ScriptLinkService.Objects",id:"from-ntstscriptlinkserviceobjects",level:2},{value:"Arrays are now Lists",id:"arrays-are-now-lists",level:3}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"migrating-to-v2",children:"Migrating to v2"})}),"\n",(0,r.jsx)(t.admonition,{type:"danger",children:(0,r.jsx)(t.p,{children:"The following content is based on possible changes in AvatarScriptLink.NET version and is subject to change."})}),"\n",(0,r.jsx)(t.p,{children:"AvatarScriptLink.NET version introduces a number of improvements from version, however this comes with some changes you will need to account for."}),"\n",(0,r.jsx)(t.h2,{id:"from-v1",children:"From v1"}),"\n",(0,r.jsx)(t.p,{children:"If you are migrating from version 1, please review the changes below."}),"\n",(0,r.jsx)(t.h3,{id:"nuget-package-has-changed",children:"NuGet package has changed"}),"\n",(0,r.jsxs)(t.p,{children:["In version 1, the NuGet package was named ",(0,r.jsx)(t.code,{children:"RarelySimple.AvatarScriptLink"}),".\nWith version 2, we have split this package to better support a greater variety of use cases and better support solutions built with .NET 8 and later."]}),"\n",(0,r.jsxs)(t.p,{children:["The simplest option is to replace the ",(0,r.jsx)(t.code,{children:"RarelySimple.AvatarScriptLink"})," package with ",(0,r.jsx)(t.code,{children:"RarelySimple.AvatarScriptLink.Net"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"dotnet remove package RarelySimple.AvatarScriptLink\ndotnet add package RarelySimple.AvatarScriptLink.Net --version 2.0.0\n"})}),"\n",(0,r.jsxs)(t.p,{children:["If your use case only uses the objects and none of the helper methods, you may be able to get by with just using the ",(0,r.jsx)(t.code,{children:"RarelySimple.AvatarScriptLink.Objects"})," package. This is uncommon but a use case this new version is intended to better support."]}),"\n",(0,r.jsx)(t.h3,{id:"helper-methods-are-no-longer-available-on-the-native-objects",children:"Helper methods are no longer available on the native objects"}),"\n",(0,r.jsxs)(t.p,{children:["In version 1, helper methods like ",(0,r.jsx)(t.code,{children:"GetFieldValue()"})," and ",(0,r.jsx)(t.code,{children:"SetFieldValue()"})," were available on the ScriptLink objects directly.\nThese have been removed in version 2 to provide a lean objects library for those who just need the basics and desire a trimmed down solution.\nThe helper methods are still available for use but the implementation is a little different."]}),"\n",(0,r.jsx)(t.p,{children:"To use the helper methods in version consider this example v1 implementation:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",children:'public OptionObject2015 RunScript(OptionObject2015 optionObject2015, string paramter)\n{\n    var fieldNumber = "123.45";\n    if (optionObject2015.IsFieldPresent(fieldNumber))\n        optionObject2015.SetFieldObject(fieldNumber, "default value");\n    return optionObject2015.ToReturnOptionObject();\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["To migrate to v2 create a new ",(0,r.jsx)(t.code,{children:"OptionObject2015Decorator"})," (wrapper class) using the received ",(0,r.jsx)(t.code,{children:"OptionObject2015"}),".\nYou will then read and modify the objectObject using the decorator."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",children:'public OptionObject2015 RunScript(OptionObject2015 optionObject2015, string paramter)\n{\n    var decorator = new OptionObject2015Decorator(optionObject2015);\n\n    var fieldNumber = "123.45";\n    if (decorator.IsFieldPresent(fieldNumber))\n        decorator.SetFieldObject(fieldNumber, "default value");\n    return decorator.ToReturnOptionObject();\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["If you were using the ",(0,r.jsx)(t.code,{children:"Clone()"})," method to leave the received OptionObject2015 intact then you can just replace your clone line with the new decorator constructor line."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-cs",children:"// var clone = optionObject2015.Clone();\nvar clone = new OptionObject2015Decorator(_optionObject2015);\n// rest of implementation\n"})}),"\n",(0,r.jsx)(t.h2,{id:"from-ntstscriptlinkserviceobjects",children:"From NTST.ScriptLinkService.Objects"}),"\n",(0,r.jsx)(t.p,{children:"If you are migrating from the NTST.ScriptLinkService.Objects library, please review the below changes."}),"\n",(0,r.jsx)(t.h3,{id:"arrays-are-now-lists",children:"Arrays are now Lists"}),"\n",(0,r.jsx)(t.p,{children:"Arrays in the object model have been replaced by Lists."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-c#",children:"// In NTST.ScriptLinkService.Objects\n// public FormObject[] Forms { get; set; }\n// AvatarScriptLink.NET\npublic List<FormObject> Forms { get; set; }\n"})}),"\n",(0,r.jsx)(t.p,{children:"There are no expected impacts to your code however it does alter your WSDL slightly. You will need to reimport your WSDL into myAvatar after deploying your changes."})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);